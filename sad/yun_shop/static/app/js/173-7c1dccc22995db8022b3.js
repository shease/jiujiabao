webpackJsonp([173,356],{3:function(t,o,e){var s,i;e(6),s=e(4);var a=e(7);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,i._scopeId="data-v-3bb525bc",t.exports=s},4:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});e(8);o.default={props:["text","hide","totext","tolink","goback"],data:function(){return{toi:this.fun.getKeyByI()}},activated:function(){console.log("统计代码run");var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?651798cf44d298ed46b435d750cc920c";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o),console.log("统计代码run")},mounted:function(){},methods:{goto:function(){window.history.length<=1?this.$router.push(this.fun.getUrl("home",{})):this.$router.go(-1)}}},t.exports=o.default},5:function(t,o,e){o=t.exports=e(1)(),o.push([t.id,".mint-header[data-v-3bb525bc]{background:none;color:#666}.is-fixed .mint-header-title[data-v-3bb525bc]{font-weight:700}.mint-header.is-fixed[data-v-3bb525bc]{border-bottom:1px solid #e8e8e8;border-bottom:.0625rem solid #e8e8e8;background:#fff;z-index:99}.is-right a[data-v-3bb525bc]{font-size:10px}",""])},6:function(t,o,e){var s=e(5);"string"==typeof s&&(s=[[t.id,s,""]]);e(2)(s,{});s.locals&&(t.exports=s.locals)},7:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[t.hide?t._e():e("mt-header",{attrs:{fixed:"",title:t.text}},[t.goback?t._e():e("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.goto},slot:"left"}),t._v(" "),t.tolink?[e("router-link",{staticStyle:{"font-size":"0.9rem"},attrs:{slot:"right",to:t.fun.getUrl(t.tolink)},slot:"right"},[t._v(t._s(t.totext))])]:t._e()],2)],1)},staticRenderFns:[]}},800:function(t,o,e){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(o,"__esModule",{value:!0});var i=e(1216),a=s(i);o.default=a.default,t.exports=o.default},1216:function(t,o,e){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(o,"__esModule",{value:!0});var i=e(3),a=s(i);e(9);o.default={components:{cTitle:a.default},data:function(){return{commodity_data:[],goods_length:""}},activated:function(){this.init(),this.getJson()},methods:{init:function(){this.emptyEditActive()},getJson:function(){var t=this;if(console.log("--params---",t.$route.params),"store"==t.$route.params.store)var o="plugin.store-cashier.frontend.store.goods.get-goods-list",e={store_id:t.$route.params.store_id};else if("supplier"==t.$route.params.store)var o="plugin.supplier.frontend.goods.get-goods-list",e={sid:t.$route.params.store_id};$http.post(o,e).then(function(o){if(console.log("显示manage",o),1==o.result){if(t.commodity_data=[],"store"==t.$route.params.store){for(var e=0;e<o.data.goods_data.length;e++)o.data.goods_data[e].edit_active=!1;t.goods_length=o.data.count,t.commodity_data=o.data.goods_data}else if("supplier"==t.$route.params.store){for(var e=0;e<o.data.list.length;e++)o.data.list[e].edit_active=!1;t.goods_length=o.data.list.length,t.commodity_data=o.data.list}console.log("--managJson",t.commodity_data)}else t.$message.error(o.msg)},function(t){console.log(t)})},routeTake:function(t){1==t?this.$router.push(this.fun.getUrl("CommodityEditor",{store_id:this.$route.params.store_id,store:this.$route.params.store})):2==t&&this.$router.push(this.fun.getUrl("CommodityRelease",{store_id:this.$route.params.store_id,store:this.$route.params.store})),this.emptyEditActive()},moreEvent:function(t){console.log("more--ya",t),0==this.commodity_data[t].edit_active?(this.emptyEditActive(),this.commodity_data[t].edit_active=!0):this.emptyEditActive(),console.log(this.commodity_data[t].edit_active)},emptyEditActive:function(){for(var t=0;t<this.commodity_data.length;t++)this.commodity_data[t].edit_active=!1},editJumpEvent:function(t){this.$router.push(this.fun.getUrl("CommodityEditor",{store_id:this.$route.params.store_id,goods_id:this.commodity_data[t].id,fromedit:1}))},commodityDelete:function(t){var o=this;console.log(t),this.emptyEditActive(),this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=o;if("store"==e.$route.params.store)var s="plugin.store-cashier.frontend.store.goods.destroy-goods",i={goods_id:e.commodity_data[t].id};else if("supplier"==e.$route.params.store)var s="plugin.supplier.frontend.goods.del-goods",i={goods_id:e.commodity_data[t].id};$http.post(s,i).then(function(o){console.log("显示",o),1==o.result?(e.$message({message:"商品删除成功",type:"success"}),e.commodity_data.splice(t,1),e.goods_length=Number(e.goods_length)-1):e.$message.error(o.msg)},function(t){console.log(t)})}).catch(function(){o.$message({type:"info",message:"已取消删除"})})}}},t.exports=o.default},1621:function(t,o,e){o=t.exports=e(1)(),o.push([t.id,"#goods-manage[data-v-80a612e4]{padding-top:40px}#goods-manage #search-box[data-v-80a612e4]{background-color:#fff;display:-ms-flexbox;display:flex;height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;position:relative;padding-left:20px;padding-left:1.25rem;border-bottom:1px solid #ebebeb;border-bottom:.0625rem solid #ebebeb}#goods-manage #search-box .search-a[data-v-80a612e4]{background-color:#f2f2f2;height:28px;height:1.75rem;line-height:28px;line-height:1.75rem;border-radius:.875rem;display:-ms-flexbox;display:flex;padding:0 14px;padding:0 .875rem;margin-top:8.5px;margin-top:.5313rem;width:300px;width:18.75rem}#goods-manage #search-box .search-a input[data-v-80a612e4]{border:none;width:90%;margin-left:10px;margin-left:.625rem}#goods-manage #search-box .search-b[data-v-80a612e4]{width:45px;width:2.8125rem;height:45px;height:2.8125rem;position:absolute;right:0}#goods-manage #release-goods[data-v-80a612e4]{background-color:#fff;display:-ms-flexbox;display:flex;font-size:16px;position:relative;height:48px;height:3rem;line-height:48px;line-height:3rem;border-bottom:1px solid #ebebeb;border-bottom:.0625rem solid #ebebeb}#goods-manage #release-goods .release-a[data-v-80a612e4]{width:48px;width:3rem;height:48px;height:3rem}#goods-manage #release-goods .release-b[data-v-80a612e4]{position:absolute;right:14px;right:.875rem;top:11px;top:.6875rem;font-size:14px;background-color:#f15353;height:26px;height:1.625rem;line-height:26px;line-height:1.625rem;padding:0 10px;padding:0 .625rem;display:block;border-radius:.8125rem;color:#fff}#goods-manage #goods-list .goods-list[data-v-80a612e4]{background-color:#fff;padding:10px 0;padding:.625rem 0;display:-ms-flexbox;display:flex;border-bottom:1px solid #ebebeb;border-bottom:.0625rem solid #ebebeb}#goods-manage #goods-list .goods-list .goods-a[data-v-80a612e4]{width:80px;width:5rem;height:80px;height:5rem;background-color:#ccc;margin-left:10px;margin-left:.625rem}#goods-manage #goods-list .goods-list .goods-b[data-v-80a612e4]{margin:0 14px;margin:0 .875rem;width:257px;width:16.0625rem;text-align:left;line-height:20px;line-height:1.25rem}#goods-manage #goods-list .goods-list .goods-b .name[data-v-80a612e4]{height:40px;height:2.5rem;font-size:14px}#goods-manage #goods-list .goods-list .goods-b .name p[data-v-80a612e4]{float:right;padding:1.6px 6.4px;padding:.1rem .4rem;color:#fff;font-size:12px;border-radius:.5rem}#goods-manage #goods-list .goods-list .goods-b .name .red[data-v-80a612e4]{background:#f15353;border:1px solid #f15353}#goods-manage #goods-list .goods-list .goods-b .name .gray[data-v-80a612e4]{background:#8c8c8c;border:1px solid #8c8c8c}#goods-manage #goods-list .goods-list .goods-b .price[data-v-80a612e4]{color:#f15353;font-size:16px}#goods-manage #goods-list .goods-list .goods-b .price span[data-v-80a612e4]{font-size:12px}#goods-manage #goods-list .goods-list .goods-b .info[data-v-80a612e4]{position:relative;color:#8c8c8c;font-size:12px}#goods-manage #goods-list .goods-list .goods-b .info font[data-v-80a612e4]{margin-right:20px;margin-right:1.25rem}#goods-manage #goods-list .goods-list .goods-b .info .icon-more[data-v-80a612e4]{position:absolute;right:0;z-index:2}#goods-manage #goods-list .goods-list .goods-b .info .more[data-v-80a612e4]{background:rgba(51,51,51,.9);border-radius:.25rem;color:#f0f0f0;width:88px;width:5.5rem;position:absolute;right:0;top:-44px;top:-2.75rem}#goods-manage #goods-list .goods-list .goods-b .info .more ul[data-v-80a612e4]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}#goods-manage #goods-list .goods-list .goods-b .info .more ul li[data-v-80a612e4]{-ms-flex:1;flex:1;text-align:center}#goods-manage #goods-list .goods-list .goods-b .info .more ul li i[data-v-80a612e4]{display:block;margin-top:2px;margin-top:.125rem}#goods-manage #goods-list .goods-list .goods-b .info .more .icon[data-v-80a612e4]{position:absolute;right:0;top:36px;top:2.25rem}#goods-manage #goods-list .goods-list .goods-b .info .more .icon i[data-v-80a612e4]{color:rgba(51,51,51,.9)}#goods-manage #goods-list .goods-list[data-v-80a612e4]:last-child{border:none}",""])},2033:function(t,o,e){var s=e(1621);"string"==typeof s&&(s=[[t.id,s,""]]);e(2)(s,{});s.locals&&(t.exports=s.locals)},2695:function(t,o,e){var s,i;e(2033),s=e(800);var a=e(3058);i=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(i=s=s.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,i._scopeId="data-v-80a612e4",t.exports=s},3058:function(t,o){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("section",{attrs:{id:"goods-manage"}},[e("c-title",{attrs:{hide:!1,text:"商品管理"}}),t._v(" "),e("section",{attrs:{id:"release-goods"}},[e("div",{staticClass:"release-a"},[e("yd-icon",{staticClass:"iconfont icon-block",attrs:{custom:"",color:"#f15353",size:"1.5rem"}})],1),t._v(" "),e("span",[t._v("商品数量："+t._s(t.goods_length))]),t._v(" "),e("div",{staticClass:"release-b",on:{click:function(o){t.routeTake(2)}}},[e("span",[t._v("发布商品")])])]),t._v(" "),e("section",{attrs:{id:"goods-list"}},t._l(t.commodity_data,function(o,s){return e("div",{staticClass:"goods-list"},[e("div",{staticClass:"goods-a"},[e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:o.thumb}})]),t._v(" "),e("ul",{staticClass:"goods-b"},[e("li",{staticClass:"name"},[t._v(t._s(o.title)+" "),e("p",{class:1===o.status?"red":"gray"},[t._v(t._s(1===o.status?"上架":"下架"))])]),t._v(" "),e("li",{staticClass:"price"},[e("span",[t._v("￥")]),t._v(t._s(o.price))]),t._v(" "),e("li",{staticClass:"info"},[e("font",[t._v("库存："+t._s(o.stock))]),t._v(" "),e("font",[t._v("销量："+t._s(o.virtual_sales+o.real_sales))]),t._v(" "),e("span",{on:{click:function(o){t.moreEvent(s)}}},[e("yd-icon",{staticClass:"iconfont icon-more",attrs:{custom:"",color:"#c9c9c9",size:"1.5rem"}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:o.edit_active,expression:"item.edit_active"}],staticClass:"more"},[e("ul",[e("li",{on:{click:function(o){t.editJumpEvent(s)}}},[e("yd-icon",{staticClass:"iconfont icon-edit",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),e("span",[t._v("编辑")])],1),t._v(" "),e("li",{on:{click:function(o){t.commodityDelete(s)}}},[e("yd-icon",{staticClass:"iconfont icon-delete",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),e("span",[t._v("删除")])],1)]),t._v(" "),e("div",{staticClass:"icon"},[e("yd-icon",{staticClass:"iconfont icon-down",attrs:{custom:"",size:"1.5rem"}})],1)])],1)])])}))],1)},staticRenderFns:[]}}});