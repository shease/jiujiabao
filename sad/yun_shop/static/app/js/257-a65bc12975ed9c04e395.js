webpackJsonp([257,356],{3:function(e,t,a){var n,o;a(6),n=a(4);var i=a(7);o=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(o=n=n.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-3bb525bc",e.exports=n},4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(8);t.default={props:["text","hide","totext","tolink","goback"],data:function(){return{toi:this.fun.getKeyByI()}},activated:function(){console.log("统计代码run");var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?651798cf44d298ed46b435d750cc920c";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),console.log("统计代码run")},mounted:function(){},methods:{goto:function(){window.history.length<=1?this.$router.push(this.fun.getUrl("home",{})):this.$router.go(-1)}}},e.exports=t.default},5:function(e,t,a){t=e.exports=a(1)(),t.push([e.id,".mint-header[data-v-3bb525bc]{background:none;color:#666}.is-fixed .mint-header-title[data-v-3bb525bc]{font-weight:700}.mint-header.is-fixed[data-v-3bb525bc]{border-bottom:1px solid #e8e8e8;border-bottom:.0625rem solid #e8e8e8;background:#fff;z-index:99}.is-right a[data-v-3bb525bc]{font-size:10px}",""])},6:function(e,t,a){var n=a(5);"string"==typeof n&&(n=[[e.id,n,""]]);a(2)(n,{});n.locals&&(e.exports=n.locals)},7:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.hide?e._e():a("mt-header",{attrs:{fixed:"",title:e.text}},[e.goback?e._e():a("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:e.goto},slot:"left"}),e._v(" "),e.tolink?[a("router-link",{staticStyle:{"font-size":"0.9rem"},attrs:{slot:"right",to:e.fun.getUrl(e.tolink)},slot:"right"},[e._v(e._s(e.totext))])]:e._e()],2)],1)},staticRenderFns:[]}},591:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(973),i=n(o);t.default=i.default,e.exports=t.default},973:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(3),i=n(o),r=a(9);t.default={data:function(){return{toi:this.fun.getKeyByI(),credit2:0,buttons:[],typename:"",recharge:"",ordersn:"",money:0,huanxun_form_quick:18,huanxun_form_wx:22,huanxun_form_action:"",huanxun_form_input:"",huanxun_input_name:""}},methods:{getData:function(){var e=this;$http.get("finance.balance.balance").then(function(t){1==t.result?(e.credit2=t.data.credit2,e.buttons=t.data.buttons,e.typename=t.data.typename,e.recharge=t.data.recharge):r.MessageBox.alert(t.msg,"提示")},function(e){r.MessageBox.alert(e,"提示")})},confirm:function(e){var t=this;if(t.money=parseFloat(t.money),t.money<=0)return void r.MessageBox.alert("金额不可低于0元","提示");var a="finance.balance.recharge";if(window.isMiniprogram)var a="finance.balance.recharge&client_type=2&app_type=wechat";$http.get(a,{pay_type:e,recharge_money:t.money},"正在充值...").then(function(a){if(console.log("result:",a),1==a.result){if(t.fun.isTextEmpty(a.data.ordersn))return r.MessageBox.alert("参数错误","提示"),!1;t.ordersn=a.data.ordersn,1==e?window.isMiniprogram?t.miniWxPay(a.data.config):(wx.config(a.data.js),t.WXPay(a.data.config)):2==e?t.$router.push(t.fun.getUrl("alipay",{status:"1",recharge_money:t.money,order_pay_id:t.ordersn,uid:window.localStorage.uid,pid:window.localStorage.uid})):6==e?t.getWeChatPayParams2():9==e?t.appWeiPay():10==e?t.appAliPay(a.data.isnewalipay):12==e?t.newWechatPay():7==e?t.newAlipay(a.data.ordersn):18==e?t.huanxunQuick(a):19==e?t.eupPay(a.data.ordersn):22==e&&t.huanxunWx(a)}else r.MessageBox.alert(a.msg,"提示")},function(e){})},miniWxPay:function(e){var t="?timestamp="+e.timestamp+"&nonceStr="+e.nonceStr+"&package="+encodeURIComponent(e.package)+"&signType="+e.signType+"&paySign="+e.paySign,a="/pages/pay/orderPay"+t;wx.miniProgram.navigateTo({url:a})},newAlipay:function(e){var t=this,a={order_sn:e};$http.get("finance.balance.alipay",a,"").then(function(e){1==e.result?t.$router.push(t.fun.getUrl("alipayCloud",{status:"7",url:e.data})):r.MessageBox.alert(e.msg,"提示")},function(e){})},newWechatPay:function(){var e=this,t={order_pay_id:e.ordersn};$http.get("order.merge-pay.yunPayWechat",t,"").then(function(t){1==t.result?e.newWXPay(t.data):r.MessageBox.alert(t.msg,"提示")},function(e){})},newWXPay:function(e){var t=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign},function(e){"get_brand_wcpay_request:ok"==e.err_msg?(t.$router.go(-1),r.MessageBox.alert("支付成功","提示")):r.MessageBox.alert("支付失败","提示")})},getWeChatPayParams2:function(){var e=this;$http.get("finance.balance.cloudWechatPay",{ordersn:e.ordersn},"").then(function(e){1==e.result?window.location.href=e.data:r.MessageBox.alert(e.msg,"提示")},function(e){r.MessageBox.alert(e,"提示")})},WXPay:function(e){var t=this;wx.chooseWXPay({appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign,success:function(e){"chooseWXPay:ok"==e.errMsg?(r.MessageBox.alert("充值成功","提示"),t.$router.go(-1)):r.MessageBox.alert("充值失败，请返回重试")},cancel:function(e){},fail:function(e){r.MessageBox.alert("充值失败，请返回重试。")}})},appWeiPay:function(){var e=this;YDB.SetWxpayInfo(e.$store.state.temp.mailInfo.name,"订单号："+e.ordersn,e.money,e.ordersn,e.fun.getKeyByI())},appAliPay:function(e){var t=this;1==e?YDB.SetRSA2AlipayInfo(t.$store.state.temp.mailInfo.name,t.fun.getKeyByI(),t.money,t.ordersn):YDB.SetAlipayInfo(t.$store.state.temp.mailInfo.name,t.fun.getKeyByI(),t.money,t.ordersn)},btnclass:function(e){return 1==e||6==e||9==e||12==e||20==e||22==e?"bg_wechat":2==e||10==e?"bg_alipay":"bg_ali"},huanxunQuick:function(e){var t=this;1==e.result?(t.huanxun_input_name="pGateWayReq",t.huanxun_form_action=e.data.url,t.huanxun_form_input=e.data.content,t.$nextTick(function(){document.getElementById("ipspaysubmit").submit()})):r.MessageBox.alert(e.msg,"提示")},eupPay:function(e){$http.get("plugin.eup-pay.api.eup-recharge.index",{order_sn:e},"...").then(function(e){1==e.result&&(window.location.href=e.data.url)}).catch(function(e){console.log(e)})},huanxunWx:function(e){var t=this;1==e.result?(t.huanxun_input_name="wxPayReq",t.huanxun_form_action=e.data.url,t.huanxun_form_input=e.data.content,t.$nextTick(function(){document.getElementById("ipspaysubmit").submit()})):r.MessageBox.alert(e.msg,"提示")}},activated:function(){this.toi=this.fun.getKeyByI(),this.getData()},components:{cTitle:i.default}},e.exports=t.default},1575:function(e,t,a){t=e.exports=a(1)(),t.push([e.id,"#balance_recharge .my_wrapper[data-v-694a292b]{background:#fff;overflow:hidden;display:-ms-flexbox;display:flex;padding:0 14px;line-height:49px;line-height:3.0625rem;height:49px;height:3.0625rem}#balance_recharge .my_wrapper span[data-v-694a292b]{text-align:left;font-size:16px;line-height:49px;line-height:3.0625rem}#balance_recharge .my_wrapper .my-value[data-v-694a292b]{-ms-flex:2;flex:2;text-align:left}#balance_recharge .my_wrapper .my-value span[data-v-694a292b]{color:#f15353}.mint-field .mint-cell-title[data-v-694a292b]{width:80px;width:5rem;-ms-flex:none;flex:none;text-align:left;margin-left:15px;margin-left:.9375rem}#payBtnList .mod_btns[data-v-694a292b]{margin-bottom:12px;margin-bottom:.75rem;height:46px;height:2.875rem;line-height:46px;line-height:2.875rem;font-size:16px}#payBtnList .mod_btns .mod_btn[data-v-694a292b]{display:block;width:90%;margin:0 auto;border-radius:.25rem}#payBtnList .mod_btns .mod_btn.bg_wechat[data-v-694a292b]{background:#19ad19;color:#fff}#payBtnList .mod_btns .mod_btn.bg_ali[data-v-694a292b],#payBtnList .mod_btns .mod_btn.bg_alipay[data-v-694a292b]{background:#22aaed;color:#fff}",""])},1986:function(e,t,a){var n=a(1575);"string"==typeof n&&(n=[[e.id,n,""]]);a(2)(n,{});n.locals&&(e.exports=n.locals)},2487:function(e,t,a){var n,o;a(1986),n=a(591);var i=a(3012);o=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(o=n=n.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,o._scopeId="data-v-694a292b",e.exports=n},3012:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"balance_recharge"}},[a("c-title",{attrs:{hide:!1,text:"充值"}}),e._v(" "),a("div",{staticStyle:{height:"50px"}}),e._v(" "),a("div",{staticClass:"my_wrapper"},[a("span",[e._v("当前余额：")]),e._v(" "),a("div",{staticClass:"my-value"},[a("span",[e._v(e._s(e.credit2)+" ")]),e._v(" 元")])]),e._v(" "),a("mt-field",{attrs:{label:"充值金额：",placeholder:"请输入充值金额"},model:{value:e.money,callback:function(t){e.money=t},expression:"money"}}),e._v(" "),a("div",{staticStyle:{height:"1.25rem"}}),e._v(" "),1==e.recharge?a("div",{attrs:{id:"payBtnList"}},e._l(e.buttons,function(t){return a("div",{staticClass:"mod_btns"},[a("a",{staticClass:"mod_btn",class:[e.btnclass(t.value)],on:{click:function(a){e.confirm(t.value)}}},[e._v(e._s(t.name)+e._s(e.typename))]),e._v(" "),e.huanxun_form_quick==t.value||e.huanxun_form_wx==t.value?a("div",[a("form",{attrs:{id:"ipspaysubmit",method:"post",action:e.huanxun_form_action}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.huanxun_form_input,expression:"huanxun_form_input"}],attrs:{type:"hidden",name:e.huanxun_input_name},domProps:{value:e.huanxun_form_input},on:{input:function(t){t.target.composing||(e.huanxun_form_input=t.target.value)}}})])]):e._e()])})):e._e()],1)},staticRenderFns:[]}}});