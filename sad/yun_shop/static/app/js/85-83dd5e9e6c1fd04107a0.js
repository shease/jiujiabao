webpackJsonp([85,356],{3:function(t,e,i){var o,r;i(6),o=i(4);var a=i(7);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-3bb525bc",t.exports=o},4:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(8);e.default={props:["text","hide","totext","tolink","goback"],data:function(){return{toi:this.fun.getKeyByI()}},activated:function(){console.log("统计代码run");var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?651798cf44d298ed46b435d750cc920c";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),console.log("统计代码run")},mounted:function(){},methods:{goto:function(){window.history.length<=1?this.$router.push(this.fun.getUrl("home",{})):this.$router.go(-1)}}},t.exports=e.default},5:function(t,e,i){e=t.exports=i(1)(),e.push([t.id,".mint-header[data-v-3bb525bc]{background:none;color:#666}.is-fixed .mint-header-title[data-v-3bb525bc]{font-weight:700}.mint-header.is-fixed[data-v-3bb525bc]{border-bottom:1px solid #e8e8e8;border-bottom:.0625rem solid #e8e8e8;background:#fff;z-index:99}.is-right a[data-v-3bb525bc]{font-size:10px}",""])},6:function(t,e,i){var o=i(5);"string"==typeof o&&(o=[[t.id,o,""]]);i(2)(o,{});o.locals&&(t.exports=o.locals)},7:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.hide?t._e():i("mt-header",{attrs:{fixed:"",title:t.text}},[t.goback?t._e():i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.goto},slot:"left"}),t._v(" "),t.tolink?[i("router-link",{staticStyle:{"font-size":"0.9rem"},attrs:{slot:"right",to:t.fun.getUrl(t.tolink)},slot:"right"},[t._v(t._s(t.totext))])]:t._e()],2)],1)},staticRenderFns:[]}},730:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1171),a=o(r);e.default=a.default,t.exports=e.default},1171:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(13),a=o(r),d=i(3),n=o(d),c=i(9);e.default={components:{cTitle:n.default},data:function(){return{language:{},para:{},goods_price:0,price:0,order_data:{},deduction:{},checkDeductionList:[],goodsInfo:{}}},methods:{initData:function(){this.para={},this.goods_price=0,this.price=0,this.order_data={},this.deduction={},this.checkDeductionList=[],this.goodsInf={}},getData:function(){var t=this;$http.get("plugin.phone.Frontend.Modules.Order.Controllers.goods-buy",t.para,"生成中...").then(function(e){1==e.result?(t.goodsInfo=e.data,t.setDataView(e.data)):c.MessageBox.alert(e.msg)},function(t){console.log(t)})},setDataView:function(t){this.order_data=t.order_data,this.deduction=t.order_data[0].discount.deduction,this.goods_price=t.total_goods_price,this.price=t.total_price},discountHandle:function(t,e){this.screenDiscount(t,e),this.para.orders=(0,a.default)(this.assembleDeduction()),this.getData()},screenDiscount:function(t,e){var i=new Object;if(e.checked)if(this.checkDeductionList.length>0){for(var o=0;o<this.checkDeductionList.length;o++)this.checkDeductionList[o].pre_id==t.order.pre_id&&this.checkDeductionList.splice(o,1);i.deduction_ids=e.id,i.pre_id=t.order.pre_id,this.checkDeductionList.push(i)}else i.deduction_ids=e.id,i.pre_id=t.order.pre_id,this.checkDeductionList.push(i);else if(this.checkDeductionList.length>0)for(var r=0;r<this.checkDeductionList.length;r++)this.checkDeductionList[r].pre_id==t.order.pre_id&&this.checkDeductionList.splice(r,1)},assembleDeduction:function(){for(var t=[],e=0;e<this.checkDeductionList.length;e++)t.push(this.checkDeductionList[e]);return t},submit:function(){var t=this,e=this.assembleJson();$http.get("plugin.phone.Frontend.Modules.Order.Controllers.create",e,"提交中...").then(function(e){console.log(e.data),1==e.result?t.$router.push(t.fun.getUrl("orderpay",{status:"2",order_ids:e.data.order_ids})):c.MessageBox.alert(e.msg)},function(t){console.log(t)})},assembleJson:function(){return this.para.address="",this.para.goods=(0,a.default)(this.assembleGoods()),this.para.member_coupon_ids=(0,a.default)(this.assembleCoupons()),this.para.orders=(0,a.default)(this.assembleDeduction()),this.para},assembleCoupons:function(){var t=[];return t},assembleGoods:function(){for(var t=[],e=0;e<this.goodsInfo.order_data.length;e++)for(var i=0;i<this.goodsInfo.order_data[e].order.order_goods.length;i++){var o=new Object;o.goods_id=this.goodsInfo.order_data[e].order.order_goods[i].goods_id,o.total=this.goodsInfo.order_data[e].order.order_goods[i].total,o.option_id=this.goodsInfo.order_data[e].order.order_goods[i].goods_option_id,t.push(o)}return t}},computed:{getLangState:function(){return this.$store.state.service.languageService}},watch:{getLangState:function(t){t?this.language=JSON.parse(sessionStorage.languageService).broadband:this.language=this.$store.state.service.languageService.broadband}},mounted:function(){sessionStorage.languageService?this.language=JSON.parse(sessionStorage.languageService).broadband:this.language=this.$store.state.service.languageService.broadband},activated:function(){this.initData(),this.$store.commit("onload"),this.para=JSON.parse(this.$route.params.para),console.log(this.para),this.getData()}},t.exports=e.default},1350:function(t,e,i){e=t.exports=i(1)(),e.push([t.id,"::-webkit-input-placeholder{color:#1bba9e}:-moz-placeholder,::-moz-placeholder{color:#1bba9e}:-ms-input-placeholder{color:#1bba9e}",""])},1351:function(t,e,i){e=t.exports=i(1)(),e.push([t.id,"[data-v-118dbb7a]{box-sizing:border-box}.electricitych .poundage[data-v-118dbb7a]{color:red;font-size:12px}.electricitych .maleall span[data-v-118dbb7a]{font-size:14px;vertical-align:middle;width:auto;margin-left:-15px;margin-left:-.9375rem;-ms-flex:none;flex:none;line-height:50px;line-height:3.125rem}.electricitych .telep[data-v-118dbb7a]{height:45px;height:2.8125rem;padding:0 13px;padding:0 .8125rem;background:#fff}.electricitych .telep p[data-v-118dbb7a]{height:45px;height:2.8125rem}.electricitych .telep p input[data-v-118dbb7a]{width:100%;height:100%;border:0;outline:0;color:#1bba9e;font-size:18px}.electricitych .content[data-v-118dbb7a]{background:#fff}.electricitych .content .form .form-group[data-v-118dbb7a]{padding:0 15px;padding:0 .9375rem;height:45px;height:2.8125rem;border-top:1px solid #ebebeb;border-top:.0625rem solid #ebebeb;display:-ms-flexbox;display:flex;-ms-flex-flow:row;flex-flow:row}.electricitych .content .form .form-group .form-help[data-v-118dbb7a]{width:80px;width:5rem;height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;text-align:left}.electricitych .content .form .form-group .form-controler[data-v-118dbb7a]{-ms-flex:1;flex:1;height:auto;line-height:45px;line-height:2.8125rem;float:left;border:0;outline:0;text-align:left}.electricitych .content .form .form-group .form-controler i[data-v-118dbb7a]{font-size:23px;float:right}.electricitych .popUp[data-v-118dbb7a]{width:100%;background:#fff}.electricitych .popUp .title[data-v-118dbb7a]{height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;border-bottom:1px solid #f3f5f7;border-bottom:.0625rem solid #f3f5f7;padding:0 15px;padding:0 .9375rem}.electricitych .popUp .title .left[data-v-118dbb7a]{float:left}.electricitych .popUp .title .right[data-v-118dbb7a]{float:right;color:#1bba9e}.electricitych .integral[data-v-118dbb7a]{height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;padding:0 13px;padding:0 .8125rem}.electricitych .integral div[data-v-118dbb7a]{float:left}.electricitych .integral div b[data-v-118dbb7a]{color:#333;font-size:16px;font-weight:noraml}.electricitych .integral div span[data-v-118dbb7a]{color:#333;font-size:12px}.electricitych .subtotal[data-v-118dbb7a]{height:40px;height:2.5rem;line-height:40px;line-height:2.5rem;padding:0 13px;padding:0 .8125rem;border-bottom:1px solid #ebebeb;border-bottom:.0625rem solid #ebebeb;margin:0}.electricitych .subtotal span[data-v-118dbb7a]:first-child{color:#333;font-size:16px;float:left}.electricitych .subtotal span[data-v-118dbb7a]:last-child{color:12px;color:#333;float:right}.electricitych #isSubtotal[data-v-118dbb7a]{background:#fff}.electricitych .m-footer[data-v-118dbb7a]{width:100%;background:#fff;position:fixed;bottom:0}.electricitych .m-footer .amount.disableds button[data-v-118dbb7a]{background:#ccc}.electricitych .m-footer .amount[data-v-118dbb7a]{height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;padding:0 0 0 14px;padding:0 0 0 .875rem;margin-bottom:0;box-sizing:border-box;border-top:1px solid #ebebeb;border-top:.0625rem solid #ebebeb}.electricitych .m-footer .amount span[data-v-118dbb7a]{color:#333;font-size:16px;float:left}.electricitych .m-footer .amount button[data-v-118dbb7a]{width:110px;height:45px;color:#fff;font-size:16px;background:#f15353;border:0;float:right}.electricitywei .telep[data-v-118dbb7a]{height:45px;height:2.8125rem;padding:0 13px;padding:0 .8125rem;background:#fff}.electricitywei .telep p[data-v-118dbb7a]{height:45px;height:2.8125rem}.electricitywei .telep p input[data-v-118dbb7a]{width:100%;height:100%;border:0;outline:0;color:#1bba9e;font-size:18px}.electricitywei .content[data-v-118dbb7a]{background:#fff}.electricitywei .content .form .form-group[data-v-118dbb7a]{padding:0 15px;padding:0 .9375rem;height:45px;height:2.8125rem;border-top:1px solid #ebebeb;border-top:.0625rem solid #ebebeb;display:-ms-flexbox;display:flex;-ms-flex-flow:row;flex-flow:row}.electricitywei .content .form .form-group .form-help[data-v-118dbb7a]{-ms-flex-order:2;order:2;width:80px;width:5rem;height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;text-align:right}.electricitywei .content .form .form-group .form-controler[data-v-118dbb7a]{-ms-flex:1;flex:1;height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;float:left;border:0;outline:0;text-align:right}.electricitywei .content .form .form-group .form-controler i[data-v-118dbb7a]{font-size:23px;float:left}.electricitywei .popUp[data-v-118dbb7a]{width:100%;background:#fff}.electricitywei .popUp .title[data-v-118dbb7a]{height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;border-bottom:1px solid #f3f5f7;border-bottom:.0625rem solid #f3f5f7;padding:0 15px;padding:0 .9375rem}.electricitywei .popUp .title .left[data-v-118dbb7a]{float:right}.electricitywei .popUp .title .right[data-v-118dbb7a]{float:left;color:#1bba9e}.electricitywei .m-footer[data-v-118dbb7a]{width:100%;background:#fff;position:fixed;bottom:0}.electricitywei .m-footer .subtotal[data-v-118dbb7a]{height:40px;height:2.5rem;line-height:40px;line-height:2.5rem;padding:0 13px;padding:0 .8125rem;border-bottom:1px solid #ebebeb;border-bottom:.0625rem solid #ebebeb;margin:0}.electricitywei .m-footer .subtotal span[data-v-118dbb7a]:first-child{color:#333;font-size:16px;float:right}.electricitywei .m-footer .subtotal span[data-v-118dbb7a]:last-child{color:12px;color:#333;float:left}.electricitywei .m-footer .integral[data-v-118dbb7a]{height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;padding:0 13px;padding:0 .8125rem}.electricitywei .m-footer .integral div[data-v-118dbb7a]{float:right}.electricitywei .m-footer .integral div b[data-v-118dbb7a]{color:#333;font-size:16px;font-weight:noraml;float:right}.electricitywei .m-footer .integral div span[data-v-118dbb7a]{color:#333;font-size:12px}.electricitywei .m-footer .amount[data-v-118dbb7a]{height:50px;height:3.125rem;line-height:50px;line-height:3.125rem;padding:0 0 0 13px;padding:0 0 0 .8125rem;margin-bottom:0;box-sizing:border-box}.electricitywei .m-footer .amount span[data-v-118dbb7a]{color:#333;font-size:16px;float:left}.electricitywei .m-footer .amount button[data-v-118dbb7a]{width:105px;width:6.5625rem;height:40px;height:2.5rem;color:#fff;font-size:16px;background:#ff951b;border:0;border-radius:.1875rem;margin-top:9px;margin-top:.5625rem;float:right}",""])},1761:function(t,e,i){var o=i(1350);"string"==typeof o&&(o=[[t.id,o,""]]);i(2)(o,{});o.locals&&(t.exports=o.locals)},1762:function(t,e,i){var o=i(1351);"string"==typeof o&&(o=[[t.id,o,""]]);i(2)(o,{});o.locals&&(t.exports=o.locals)},2625:function(t,e,i){var o,r;i(1761),i(1762),o=i(730);var a=i(2799);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-118dbb7a",t.exports=o},2799:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:"electricity"+t.$store.state.service.lang,attrs:{id:"electricity"}},[i("c-title",{attrs:{hide:!1,text:t.language.title}}),t._v(" "),i("div",{staticStyle:{height:"40px"}}),t._v(" "),t._l(t.order_data,function(e){return i("div",{attrs:{id:"isSubtotal"}},[t._l(e.order.order_goods,function(e){return i("div",[i("p",{staticClass:"subtotal"},[i("span",[t._v(t._s(t.language.subtotal))]),t._v(" "),i("span",[t._v("¥"+t._s(e.goods_price))])])])}),t._v(" "),i("div",{staticClass:"clear"}),t._v(" "),t._l(t.deduction,function(o){return t.deduction?i("div",{staticClass:"integral"},[i("div",[t._v("\n                    "+t._s(o.value)+t._s(o.name)+"\n                    "),i("span",[t._v(t._s(o.price)+t._s(t.language.yuan))])]),t._v(" "),i("mt-switch",{class:{rt:"ch"==t.$store.state.service.lang,lf:"wei"==!t.$store.state.service.lang},on:{change:function(i){t.discountHandle(e,o)}},model:{value:o.checked,callback:function(e){t.$set(o,"checked",e)},expression:"d.checked"}})],1):t._e()}),t._v(" "),i("div",{staticClass:"clear"})],2)}),t._v(" "),i("div",{staticClass:"m-footer"},[i("div",{staticClass:"amount"},[i("span",[t._v(t._s(t.language.total)+"\n                "),i("b",[t._v(t._s(t.price))])]),t._v(" "),i("button",{attrs:{type:"button"},on:{click:t.submit}},[t._v(t._s(t.language.btn))])])])],2)},staticRenderFns:[]}}});