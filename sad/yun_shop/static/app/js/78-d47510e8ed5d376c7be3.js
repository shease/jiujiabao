webpackJsonp([78,356],{3:function(e,t,i){var o,r;i(6),o=i(4);var a=i(7);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-3bb525bc",e.exports=o},4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i(8);t.default={props:["text","hide","totext","tolink","goback"],data:function(){return{toi:this.fun.getKeyByI()}},activated:function(){console.log("统计代码run");var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?651798cf44d298ed46b435d750cc920c";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),console.log("统计代码run")},mounted:function(){},methods:{goto:function(){window.history.length<=1?this.$router.push(this.fun.getUrl("home",{})):this.$router.go(-1)}}},e.exports=t.default},5:function(e,t,i){t=e.exports=i(1)(),t.push([e.id,".mint-header[data-v-3bb525bc]{background:none;color:#666}.is-fixed .mint-header-title[data-v-3bb525bc]{font-weight:700}.mint-header.is-fixed[data-v-3bb525bc]{border-bottom:1px solid #e8e8e8;border-bottom:.0625rem solid #e8e8e8;background:#fff;z-index:99}.is-right a[data-v-3bb525bc]{font-size:10px}",""])},6:function(e,t,i){var o=i(5);"string"==typeof o&&(o=[[e.id,o,""]]);i(2)(o,{});o.locals&&(e.exports=o.locals)},7:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.hide?e._e():i("mt-header",{attrs:{fixed:"",title:e.text}},[e.goback?e._e():i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:e.goto},slot:"left"}),e._v(" "),e.tolink?[i("router-link",{staticStyle:{"font-size":"0.9rem"},attrs:{slot:"right",to:e.fun.getUrl(e.tolink)},slot:"right"},[e._v(e._s(e.totext))])]:e._e()],2)],1)},staticRenderFns:[]}},750:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1184),a=o(r);t.default=a.default,e.exports=t.default},1184:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(13),a=o(r),c=i(3),n=o(c),d=i(9);t.default={components:{cTitle:n.default},data:function(){return{language:{},para:{},goods_price:0,price:0,order_data:{},deduction:{},checkDeductionList:[],goodsInfo:{}}},methods:{initData:function(){this.para={},this.goods_price=0,this.price=0,this.order_data={},this.deduction={},this.checkDeductionList=[],this.goodsInf={}},getData:function(){var e=this;$http.get("plugin.phone.Frontend.Modules.Order.Controllers.goods-buy",e.para,"生成中...").then(function(t){1==t.result?(e.goodsInfo=t.data,e.setDataView(t.data)):d.MessageBox.alert(t.msg)},function(e){console.log(e)})},setDataView:function(e){this.order_data=e.order_data,this.deduction=e.order_data[0].discount.deduction,this.goods_price=e.total_goods_price,this.price=e.total_price},discountHandle:function(e,t){this.screenDiscount(e,t),this.para.orders=(0,a.default)(this.assembleDeduction()),this.getData()},screenDiscount:function(e,t){var i=new Object;if(t.checked)if(this.checkDeductionList.length>0){for(var o=0;o<this.checkDeductionList.length;o++)this.checkDeductionList[o].pre_id==e.order.pre_id&&this.checkDeductionList.splice(o,1);i.deduction_ids=t.id,i.pre_id=e.order.pre_id,this.checkDeductionList.push(i)}else i.deduction_ids=t.id,i.pre_id=e.order.pre_id,this.checkDeductionList.push(i);else if(this.checkDeductionList.length>0)for(var r=0;r<this.checkDeductionList.length;r++)this.checkDeductionList[r].pre_id==e.order.pre_id&&this.checkDeductionList.splice(r,1)},assembleDeduction:function(){for(var e=[],t=0;t<this.checkDeductionList.length;t++)e.push(this.checkDeductionList[t]);return e},submit:function(){var e=this,t=this.assembleJson();$http.get("plugin.phone.Frontend.Modules.Order.Controllers.create",t,"提交中...").then(function(t){console.log(t.data),1==t.result?e.$router.push(e.fun.getUrl("orderpay",{status:"2",order_ids:t.data.order_ids})):d.MessageBox.alert(t.msg)},function(e){console.log(e)})},assembleJson:function(){return this.para.address="",this.para.goods=(0,a.default)(this.assembleGoods()),this.para.member_coupon_ids=(0,a.default)(this.assembleCoupons()),this.para.orders=(0,a.default)(this.assembleDeduction()),this.para},assembleCoupons:function(){var e=[];return e},assembleGoods:function(){for(var e=[],t=0;t<this.goodsInfo.order_data.length;t++)for(var i=0;i<this.goodsInfo.order_data[t].order.order_goods.length;i++){var o=new Object;o.goods_id=this.goodsInfo.order_data[t].order.order_goods[i].goods_id,o.total=this.goodsInfo.order_data[t].order.order_goods[i].total,o.option_id=this.goodsInfo.order_data[t].order.order_goods[i].goods_option_id,e.push(o)}return e}},computed:{getLangState:function(){return this.$store.state.service.languageService}},watch:{getLangState:function(e){e?this.language=JSON.parse(sessionStorage.languageService).oilRecharge:this.language=this.$store.state.service.languageService.oilRecharge}},mounted:function(){sessionStorage.languageService?this.language=JSON.parse(sessionStorage.languageService).oilRecharge:this.language=this.$store.state.service.languageService.oilRecharge},activated:function(){this.initData(),this.$store.commit("onload"),this.para=JSON.parse(this.$route.params.para),console.log(this.para),this.getData()}},e.exports=t.default},1382:function(e,t,i){t=e.exports=i(1)(),t.push([e.id,"::-webkit-input-placeholder{color:#1bba9e}:-moz-placeholder,::-moz-placeholder{color:#1bba9e}:-ms-input-placeholder{color:#1bba9e}",""])},1383:function(e,t,i){t=e.exports=i(1)(),t.push([e.id,"[data-v-1e8c4906]{box-sizing:border-box}.electricitych .poundage[data-v-1e8c4906]{color:red;font-size:12px}.electricitych .maleall span[data-v-1e8c4906]{font-size:14px;vertical-align:middle;width:auto;margin-left:-15px;margin-left:-.9375rem;-ms-flex:none;flex:none;line-height:50px;line-height:3.125rem}.electricitych .telep[data-v-1e8c4906]{height:45px;height:2.8125rem;padding:0 13px;padding:0 .8125rem;background:#fff}.electricitych .telep p[data-v-1e8c4906]{height:45px;height:2.8125rem}.electricitych .telep p input[data-v-1e8c4906]{width:100%;height:100%;border:0;outline:0;color:#1bba9e;font-size:18px}.electricitych .content[data-v-1e8c4906]{background:#fff}.electricitych .content .form .form-group[data-v-1e8c4906]{padding:0 15px;padding:0 .9375rem;height:45px;height:2.8125rem;border-top:1px solid #ccc;border-top:.0625rem solid #ccc;display:-ms-flexbox;display:flex;-ms-flex-flow:row;flex-flow:row}.electricitych .content .form .form-group .form-help[data-v-1e8c4906]{width:80px;width:5rem;height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;text-align:left}.electricitych .content .form .form-group .form-controler[data-v-1e8c4906]{-ms-flex:1;flex:1;height:auto;line-height:45px;line-height:2.8125rem;float:left;border:0;outline:0;text-align:left}.electricitych .content .form .form-group .form-controler i[data-v-1e8c4906]{font-size:23px;float:right}.electricitych .popUp[data-v-1e8c4906]{width:100%;background:#fff}.electricitych .popUp .title[data-v-1e8c4906]{height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;border-bottom:1px solid #f3f5f7;border-bottom:.0625rem solid #f3f5f7;padding:0 15px;padding:0 .9375rem}.electricitych .popUp .title .left[data-v-1e8c4906]{float:left}.electricitych .popUp .title .right[data-v-1e8c4906]{float:right;color:#1bba9e}.electricitych .integral[data-v-1e8c4906]{height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;padding:0 13px;padding:0 .8125rem}.electricitych .integral div[data-v-1e8c4906]{float:left}.electricitych .integral div b[data-v-1e8c4906]{color:#333;font-size:16px;font-weight:noraml}.electricitych .integral div span[data-v-1e8c4906]{color:#333;font-size:12px}.electricitych .subtotal[data-v-1e8c4906]{height:40px;height:2.5rem;line-height:40px;line-height:2.5rem;padding:0 13px;padding:0 .8125rem;border-bottom:1px solid #ccc;border-bottom:.0625rem solid #ccc;margin:0}.electricitych .subtotal span[data-v-1e8c4906]:first-child{color:#333;font-size:16px;float:left}.electricitych .subtotal span[data-v-1e8c4906]:last-child{color:12px;color:#333;float:right}.electricitych #isSubtotal[data-v-1e8c4906]{background:#fff}.electricitych .m-footer[data-v-1e8c4906]{width:100%;background:#fff;position:fixed;bottom:0}.electricitych .m-footer .amount.disableds button[data-v-1e8c4906]{background:#ccc}.electricitych .m-footer .amount[data-v-1e8c4906]{height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;padding:0 0 0 14px;padding:0 0 0 .875rem;margin-bottom:0;box-sizing:border-box}.electricitych .m-footer .amount span[data-v-1e8c4906]{color:#333;font-size:16px;float:left}.electricitych .m-footer .amount button[data-v-1e8c4906]{width:110px;width:6.875rem;height:45px;height:2.8125rem;color:#fff;font-size:16px;background:#f15353;border:0;float:right}.electricitywei .telep[data-v-1e8c4906]{height:45px;height:2.8125rem;padding:0 13px;padding:0 .8125rem;background:#fff}.electricitywei .telep p[data-v-1e8c4906]{height:45px;height:2.8125rem}.electricitywei .telep p input[data-v-1e8c4906]{width:100%;height:100%;border:0;outline:0;color:#1bba9e;font-size:18px}.electricitywei .content[data-v-1e8c4906]{background:#fff}.electricitywei .content .form .form-group[data-v-1e8c4906]{padding:0 15px;padding:0 .9375rem;height:45px;height:2.8125rem;border-top:1px solid #ccc;border-top:.0625rem solid #ccc;display:-ms-flexbox;display:flex;-ms-flex-flow:row;flex-flow:row}.electricitywei .content .form .form-group .form-help[data-v-1e8c4906]{-ms-flex-order:2;order:2;width:80px;width:5rem;height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;text-align:right}.electricitywei .content .form .form-group .form-controler[data-v-1e8c4906]{-ms-flex:1;flex:1;height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;float:left;border:0;outline:0;text-align:right}.electricitywei .content .form .form-group .form-controler i[data-v-1e8c4906]{font-size:23px;float:left}.electricitywei .popUp[data-v-1e8c4906]{width:100%;background:#fff}.electricitywei .popUp .title[data-v-1e8c4906]{height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;border-bottom:1px solid #f3f5f7;border-bottom:.0625rem solid #f3f5f7;padding:0 15px;padding:0 .9375rem}.electricitywei .popUp .title .left[data-v-1e8c4906]{float:right}.electricitywei .popUp .title .right[data-v-1e8c4906]{float:left;color:#1bba9e}.electricitywei .m-footer[data-v-1e8c4906]{width:100%;background:#fff;position:fixed;bottom:0}.electricitywei .m-footer .subtotal[data-v-1e8c4906]{height:40px;height:2.5rem;line-height:40px;line-height:2.5rem;padding:0 13px;padding:0 .8125rem;border-bottom:1px solid #ccc;border-bottom:.0625rem solid #ccc;margin:0}.electricitywei .m-footer .subtotal span[data-v-1e8c4906]:first-child{color:#333;font-size:16px;float:right}.electricitywei .m-footer .subtotal span[data-v-1e8c4906]:last-child{color:12px;color:#333;float:left}.electricitywei .m-footer .integral[data-v-1e8c4906]{height:45px;height:2.8125rem;line-height:45px;line-height:2.8125rem;padding:0 13px;padding:0 .8125rem}.electricitywei .m-footer .integral div[data-v-1e8c4906]{float:right}.electricitywei .m-footer .integral div b[data-v-1e8c4906]{color:#333;font-size:16px;font-weight:noraml;float:right}.electricitywei .m-footer .integral div span[data-v-1e8c4906]{color:#333;font-size:12px}.electricitywei .m-footer .amount[data-v-1e8c4906]{height:50px;height:3.125rem;line-height:50px;line-height:3.125rem;padding:0 0 0 13px;padding:0 0 0 .8125rem;margin-bottom:0;box-sizing:border-box}.electricitywei .m-footer .amount span[data-v-1e8c4906]{color:#333;font-size:16px;float:left}.electricitywei .m-footer .amount button[data-v-1e8c4906]{width:105px;width:6.5625rem;height:40px;height:2.5rem;color:#fff;font-size:16px;background:#ff951b;border:0;border-radius:.1875rem;margin-top:9px;margin-top:.5625rem;float:right}",""])},1793:function(e,t,i){var o=i(1382);"string"==typeof o&&(o=[[e.id,o,""]]);i(2)(o,{});o.locals&&(e.exports=o.locals)},1794:function(e,t,i){var o=i(1383);"string"==typeof o&&(o=[[e.id,o,""]]);i(2)(o,{});o.locals&&(e.exports=o.locals)},2645:function(e,t,i){var o,r;i(1793),i(1794),o=i(750);var a=i(2830);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-1e8c4906",e.exports=o},2830:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"electricity"+e.$store.state.service.lang,attrs:{id:"electricity"}},[i("c-title",{attrs:{hide:!1,text:e.language.title}}),e._v(" "),i("div",{staticStyle:{height:"40px"}}),e._v(" "),e._l(e.order_data,function(t){return i("div",{attrs:{id:"isSubtotal"}},[e._l(t.order.order_goods,function(t){return i("div",[i("p",{staticClass:"subtotal"},[i("span",[e._v(e._s(e.language.subtotal))]),e._v(" "),i("span",[e._v("¥"+e._s(t.goods_price))])])])}),e._v(" "),i("div",{staticClass:"clear"}),e._v(" "),e._l(e.deduction,function(o){return e.deduction?i("div",{staticClass:"integral"},[i("div",[e._v("\n                    "+e._s(o.value)+e._s(o.name)+"\n                    "),i("span",[e._v(e._s(o.price)+e._s(e.language.yuan))])]),e._v(" "),i("mt-switch",{class:{rt:"ch"==e.$store.state.service.lang,lf:"wei"==!e.$store.state.service.lang},on:{change:function(i){e.discountHandle(t,o)}},model:{value:o.checked,callback:function(t){e.$set(o,"checked",t)},expression:"d.checked"}})],1):e._e()}),e._v(" "),i("div",{staticClass:"clear"})],2)}),e._v(" "),i("div",{staticClass:"m-footer"},[i("div",{staticClass:"amount"},[i("span",[e._v(e._s(e.language.total)+"\n                "),i("b",[e._v(e._s(e.price))])]),e._v(" "),i("button",{attrs:{type:"button"},on:{click:e.submit}},[e._v(e._s(e.language.btn))])])])],2)},staticRenderFns:[]}}});