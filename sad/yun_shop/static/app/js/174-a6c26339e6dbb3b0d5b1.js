webpackJsonp([174,356],{3:function(t,e,s){var i,o;s(6),i=s(4);var a=s(7);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-3bb525bc",t.exports=i},4:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(8);e.default={props:["text","hide","totext","tolink","goback"],data:function(){return{toi:this.fun.getKeyByI()}},activated:function(){console.log("统计代码run");var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?651798cf44d298ed46b435d750cc920c";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),console.log("统计代码run")},mounted:function(){},methods:{goto:function(){window.history.length<=1?this.$router.push(this.fun.getUrl("home",{})):this.$router.go(-1)}}},t.exports=e.default},5:function(t,e,s){e=t.exports=s(1)(),e.push([t.id,".mint-header[data-v-3bb525bc]{background:none;color:#666}.is-fixed .mint-header-title[data-v-3bb525bc]{font-weight:700}.mint-header.is-fixed[data-v-3bb525bc]{border-bottom:1px solid #e8e8e8;border-bottom:.0625rem solid #e8e8e8;background:#fff;z-index:99}.is-right a[data-v-3bb525bc]{font-size:10px}",""])},6:function(t,e,s){var i=s(5);"string"==typeof i&&(i=[[t.id,i,""]]);s(2)(i,{});i.locals&&(t.exports=i.locals)},7:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.hide?t._e():s("mt-header",{attrs:{fixed:"",title:t.text}},[t.goback?t._e():s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.goto},slot:"left"}),t._v(" "),t.tolink?[s("router-link",{staticStyle:{"font-size":"0.9rem"},attrs:{slot:"right",to:t.fun.getUrl(t.tolink)},slot:"right"},[t._v(t._s(t.totext))])]:t._e()],2)],1)},staticRenderFns:[]}},798:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(1214),a=i(o);e.default=a.default,t.exports=e.default},1214:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(3),a=i(o);s(9);e.default={components:{cTitle:a.default},data:function(){return{classify_data:[]}},activated:function(){this.getJson(),this.emptyMore()},methods:{getJson:function(){var t=this;console.log("--params---",t.$route.params);var e={store_id:t.$route.params.store_id};$http.post("plugin.store-cashier.frontend.store.goods-category.get-category-by-store-id",e).then(function(e){if(console.log("显示classify",e),1==e.result){t.classify_data=[];for(var s=0;s<e.data.list.length;s++){e.data.list[s].btn_active=!1,e.data.list[s].level_active=!1;for(var i=0;i<e.data.list[s].childrens.length;i++)e.data.list[s].childrens[i].btn_active=!1,e.data.list[s].childrens[i].level_active=!1}t.classify_data=e.data.list,console.log(t.classify_data)}else t.$message.error(e.msg)},function(t){console.log(t)})},classifyRoute:function(t,e,s,i,o){1==t?2==e?this.$router.push(this.fun.getUrl("AddClassify",{store_id:this.$route.params.store_id,classify_id:this.classify_data[s].id,level:e})):3==e&&this.$router.push(this.fun.getUrl("AddClassify",{store_id:this.$route.params.store_id,classify_id:this.classify_data[s].childrens[i].id,level:e})):2==t&&(1==e?this.$router.push(this.fun.getUrl("FirstEdit",{store_id:this.$route.params.store_id,classify_id:this.classify_data[s].id,level:e})):2==e?this.$router.push(this.fun.getUrl("FirstEdit",{store_id:this.$route.params.store_id,classify_id:this.classify_data[s].childrens[i].id,level:e})):3==e&&this.$router.push(this.fun.getUrl("FirstEdit",{store_id:this.$route.params.store_id,classify_id:this.classify_data[s].childrens[i].thirds[o].id,level:e})))},addClassify:function(){console.log("uiiooo"),this.$router.push(this.fun.getUrl("AddClassify",{store_id:this.$route.params.store_id,classify_id:"add",level:1}))},oneLevel:function(t,e,s){1==t?1==this.classify_data[e].level_active?this.emptyMore():0!=this.classify_data[e].childrens.length?(this.emptyMore(),this.classify_data[e].level_active=!0):this.$message({message:"此类暂无数据",type:"error"}):2==t&&(1==this.classify_data[e].childrens[s].level_active?(this.emptyMore(),this.classify_data[e].level_active=!0):0!=this.classify_data[e].childrens[s].thirds.length?(this.emptyMore(),this.classify_data[e].level_active=!0,this.classify_data[e].childrens[s].level_active=!0):this.$message({message:"此类暂无数据",type:"error"}))},levelMore:function(t,e,s,i){1==t?1==this.classify_data[e].btn_active?this.emptyMore():(this.emptyMore(),this.classify_data[e].btn_active=!0):2==t?1==this.classify_data[e].childrens[s].btn_active?(this.emptyMore(),this.classify_data[e].level_active=!0):(this.emptyMore(),this.classify_data[e].level_active=!0,this.classify_data[e].childrens[s].btn_active=!0):3==t&&(1==this.classify_data[e].childrens[s].thirds[i].btn_active?(this.emptyMore(),this.classify_data[e].level_active=!0,this.classify_data[e].childrens[s].level_active=!0):(this.emptyMore(),this.classify_data[e].level_active=!0,this.classify_data[e].childrens[s].level_active=!0,this.classify_data[e].childrens[s].thirds[i].btn_active=!0))},emptyMore:function(){for(var t=0;t<this.classify_data.length;t++){this.classify_data[t].btn_active=!1,this.classify_data[t].level_active=!1;for(var e=0;e<this.classify_data[t].childrens.length;e++)this.classify_data[t].childrens[e].btn_active=!1,this.classify_data[t].childrens[e].level_active=!1}},deleteClassify:function(t,e,s,i){var o=this;o.$confirm("此操作将永久删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a="";if(1==t){if(a=o.classify_data[e].id,0!=o.classify_data[e].childrens.length)return void o.$message({message:"先清空二级分类",type:"error"})}else 2==t?a=o.classify_data[e].childrens[s].id:3==t&&(a=o.classify_data[e].childrens[s].thirds[i].id);var l={id:a};$http.post("plugin.store-cashier.frontend.store.goods-category.del-category",l).then(function(a){console.log("显示delete",a),1==a.result?(1==t?o.classify_data.splice(e,1):2==t?o.classify_data[e].childrens.splice(s,1):3==t&&o.classify_data[e].childrens[s].thirds.splice(i,1),o.$message({message:"删除成功",type:"success"})):o.$message.error(a.msg)},function(t){console.log(t)})}).catch(function(){o.$message({type:"info",message:"已取消删除"})})}}},t.exports=e.default},1357:function(t,e,s){e=t.exports=s(1)(),e.push([t.id,"#goods-class[data-v-1490b0c9]{background-color:#fff;margin-bottom:60px;margin-bottom:3.75rem}#goods-class .list .box-a[data-v-1490b0c9]{padding-left:14px;padding-left:.875rem;border-top:1px solid #ebebeb;border-top:.0625rem solid #ebebeb;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;position:relative}#goods-class .list .box-a .left[data-v-1490b0c9]{display:-ms-flexbox;display:flex;padding:10px 0;padding:.625rem 0;font-size:16px}#goods-class .list .box-a .left .img[data-v-1490b0c9]{width:40px;width:2.5rem;height:40px;height:2.5rem;overflow:hidden;background-color:#ccc;margin:0 10px;margin:0 .625rem}#goods-class .list .box-a .left .img img[data-v-1490b0c9]{width:100%;overflow:hidden}#goods-class .list .box-a .left span[data-v-1490b0c9]{line-height:40px;line-height:2.5rem}#goods-class .list .box-a .right[data-v-1490b0c9]{display:-ms-flexbox;display:flex;padding:10px 0;padding:.625rem 0;margin-right:10px;margin-right:.625rem}#goods-class .list .box-a .right i[data-v-1490b0c9]{font-size:24px;font-size:1.5rem;color:#c9c9c9;width:40px;width:2.5rem;line-height:40px;line-height:2.5rem;position:relative;z-index:3}#goods-class .list .box-a .more[data-v-1490b0c9]{z-index:2;background:rgba(51,51,51,.9);border-radius:.25rem;color:#f0f0f0;width:120px;width:7.5rem;position:absolute;right:48px;right:3rem;top:42px;top:2.625rem}#goods-class .list .box-a .more ul[data-v-1490b0c9]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}#goods-class .list .box-a .more ul li[data-v-1490b0c9]{-ms-flex:1;flex:1;text-align:center}#goods-class .list .box-a .more ul li i[data-v-1490b0c9]{display:block;margin-top:2px;margin-top:.125rem}#goods-class .list .box-a .more .icon[data-v-1490b0c9]{position:absolute;right:10px;right:.625rem;top:-16px;top:-1rem}#goods-class .list .box-a .more .icon i[data-v-1490b0c9]{color:rgba(51,51,51,.9)}#goods-class .list .box-b[data-v-1490b0c9]{background:#fafafa;padding-left:14px;padding-left:.875rem;border-top:1px solid #ebebeb;border-top:.0625rem solid #ebebeb;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;position:relative}#goods-class .list .box-b .left[data-v-1490b0c9]{display:-ms-flexbox;display:flex;margin-left:20px;margin-left:1.25rem;padding:10px 0;padding:.625rem 0;font-size:16px}#goods-class .list .box-b .left .img[data-v-1490b0c9]{width:40px;width:2.5rem;height:40px;height:2.5rem;overflow:hidden;background-color:#ccc;margin:0 10px;margin:0 .625rem}#goods-class .list .box-b .left .img img[data-v-1490b0c9]{width:100%;overflow:hidden}#goods-class .list .box-b .left span[data-v-1490b0c9]{line-height:40px;line-height:2.5rem}#goods-class .list .box-b .right[data-v-1490b0c9]{display:-ms-flexbox;display:flex;padding:10px 0;padding:.625rem 0;margin-right:10px;margin-right:.625rem}#goods-class .list .box-b .right i[data-v-1490b0c9]{font-size:24px;font-size:1.5rem;color:#c9c9c9;width:40px;width:2.5rem;line-height:40px;line-height:2.5rem;position:relative;z-index:3}#goods-class .list .box-b .more[data-v-1490b0c9]{z-index:2;background:rgba(51,51,51,.9);border-radius:.25rem;color:#f0f0f0;width:120px;width:7.5rem;position:absolute;right:48px;right:3rem;top:42px;top:2.625rem}#goods-class .list .box-b .more ul[data-v-1490b0c9]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}#goods-class .list .box-b .more ul li[data-v-1490b0c9]{-ms-flex:1;flex:1;text-align:center}#goods-class .list .box-b .more ul li i[data-v-1490b0c9]{display:block;margin-top:2px;margin-top:.125rem}#goods-class .list .box-b .more .icon[data-v-1490b0c9]{position:absolute;right:10px;right:.625rem;top:-16px;top:-1rem}#goods-class .list .box-b .more .icon i[data-v-1490b0c9]{color:rgba(51,51,51,.9)}#goods-class .list .box-c[data-v-1490b0c9]{padding-left:14px;padding-left:.875rem;background:#fafafa;border-top:1px solid #ebebeb;border-top:.0625rem solid #ebebeb;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;position:relative}#goods-class .list .box-c .left[data-v-1490b0c9]{display:-ms-flexbox;display:flex;margin-left:40px;margin-left:2.5rem;padding:10px 0;padding:.625rem 0;font-size:16px}#goods-class .list .box-c .left .img[data-v-1490b0c9]{width:40px;width:2.5rem;height:40px;height:2.5rem;overflow:hidden;background-color:#ccc;margin:0 10px;margin:0 .625rem}#goods-class .list .box-c .left .img img[data-v-1490b0c9]{width:100%;overflow:hidden}#goods-class .list .box-c .left span[data-v-1490b0c9]{line-height:40px;line-height:2.5rem}#goods-class .list .box-c .right[data-v-1490b0c9]{display:-ms-flexbox;display:flex;padding:10px 0;padding:.625rem 0;margin-right:10px;margin-right:.625rem}#goods-class .list .box-c .right i[data-v-1490b0c9]{font-size:24px;font-size:1.5rem;color:#c9c9c9;width:40px;width:2.5rem;line-height:40px;line-height:2.5rem;position:relative;z-index:3}#goods-class .list .box-c .more[data-v-1490b0c9]{z-index:2;background:rgba(51,51,51,.9);border-radius:.25rem;color:#f0f0f0;width:88px;width:5.5rem;position:absolute;right:48px;right:3rem;top:42px;top:2.625rem}#goods-class .list .box-c .more ul[data-v-1490b0c9]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}#goods-class .list .box-c .more ul li[data-v-1490b0c9]{-ms-flex:1;flex:1;text-align:center}#goods-class .list .box-c .more ul li i[data-v-1490b0c9]{display:block;margin-top:2px;margin-top:.125rem}#goods-class .list .box-c .more .icon[data-v-1490b0c9]{position:absolute;right:10px;right:.625rem;top:-16px;top:-1rem}#goods-class .list .box-c .more .icon i[data-v-1490b0c9]{color:rgba(51,51,51,.9)}#goods-class #bottom[data-v-1490b0c9]{border-top:1px solid #ebebeb;border-top:.0625rem solid #ebebeb;width:100%;position:fixed;bottom:0;background-color:#fff;padding:0 14px;padding:0 .875rem;font-size:16px}#goods-class #bottom button[data-v-1490b0c9]{color:#fff;width:100%;height:40px;height:2.5rem;line-height:40px;line-height:2.5rem;border-radius:.1875rem;background-color:#f15353;border:none;margin:6px 0;margin:.375rem 0}",""])},1768:function(t,e,s){var i=s(1357);"string"==typeof i&&(i=[[t.id,i,""]]);s(2)(i,{});i.locals&&(t.exports=i.locals)},2693:function(t,e,s){var i,o;s(1768),i=s(798);var a=s(2805);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-1490b0c9",t.exports=i},2805:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"goods-class"}},[s("c-title",{attrs:{hide:!1,text:"商品分类"}}),t._v(" "),s("section",{staticStyle:{height:"40px"}}),t._v(" "),t._l(t.classify_data,function(e,i){return s("section",{staticClass:"list"},[s("ul",{staticClass:"box-a",on:{click:function(e){t.oneLevel(1,i)}}},[s("li",{staticClass:"left"},[s("span",[t._v(t._s(e.name))])]),t._v(" "),s("li",{staticClass:"right"},[s("i",{staticClass:"iconfont icon-more",staticStyle:{color:"#c9c9c9"},on:{click:function(e){e.stopPropagation(),t.levelMore(1,i)}}}),t._v(" "),0==e.level_active?s("i",{staticClass:"iconfont icon-member-bottom",staticStyle:{color:"#c9c9c9"}}):t._e(),t._v(" "),1==e.level_active?s("i",{staticClass:"iconfont icon-member-top",staticStyle:{color:"#c9c9c9"}}):t._e()]),t._v(" "),e.btn_active?s("div",{staticClass:"more"},[s("ul",[s("li",{on:{click:function(e){e.stopPropagation(),t.classifyRoute(1,2,i)}}},[s("yd-icon",{staticClass:"iconfont icon-add",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),s("span",[t._v("添加")])],1),t._v(" "),s("li",{on:{click:function(e){e.stopPropagation(),t.classifyRoute(2,1,i)}}},[s("yd-icon",{staticClass:"iconfont icon-edit",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),s("span",[t._v("编辑")])],1),t._v(" "),s("li",{on:{click:function(e){e.stopPropagation(),t.deleteClassify(1,i)}}},[s("yd-icon",{staticClass:"iconfont icon-delete",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),s("span",[t._v("删除")])],1)]),t._v(" "),s("div",{staticClass:"icon"},[s("yd-icon",{staticClass:"iconfont icon-up",attrs:{custom:"",size:"1.5rem"}})],1)]):t._e()]),t._v(" "),t._l(e.childrens,function(o,a){return e.level_active?s("section",[s("ul",{staticClass:"box-b"},[s("li",{staticClass:"left"},[s("span",[t._v(t._s(o.name))])]),t._v(" "),s("li",{staticClass:"right"},[s("i",{staticClass:"iconfont icon-more",staticStyle:{color:"#c9c9c9"},on:{click:function(e){e.stopPropagation(),t.levelMore(2,i,a)}}}),t._v(" "),s("i",{staticClass:"iconfont icon-member-top",staticStyle:{color:"#c9c9c9"}})]),t._v(" "),o.btn_active?s("div",{staticClass:"more"},[s("ul",[s("li",{on:{click:function(e){e.stopPropagation(),t.classifyRoute(2,2,i,a)}}},[s("yd-icon",{staticClass:"iconfont icon-edit",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),s("span",[t._v("编辑")])],1),t._v(" "),s("li",{on:{click:function(e){e.stopPropagation(),t.deleteClassify(2,i,a)}}},[s("yd-icon",{staticClass:"iconfont icon-delete",attrs:{custom:"",color:"#fff",size:"1.125rem"}}),t._v(" "),s("span",[t._v("删除")])],1)]),t._v(" "),s("div",{staticClass:"icon"},[s("yd-icon",{staticClass:"iconfont icon-up",attrs:{custom:"",size:"1.5rem"}})],1)]):t._e()])]):t._e()})],2)}),t._v(" "),s("section",{attrs:{id:"bottom"}},[s("button",{attrs:{type:"button"},on:{click:t.addClassify}},[s("i",{staticClass:"iconfont icon-life-game-plus"}),t._v("添加分类")])])],2)},staticRenderFns:[]}}});